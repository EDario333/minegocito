{% load i18n %}

<style type="text/css">
  ul li.user-notifications ul {
    list-style-type: none;
  }

  ul li.user-notifications ul li a {
    white-space: nowrap;
  }
</style>

<a href="javascript:void(0);" class="dropdown-toggle" 
data-toggle="dropdown" role="button">
  <i class="material-icons">
  	notifications
  </i>

  <span class="label-count">
    {{notifications|length}}
  </span>
</a>

<ul class="dropdown-menu">
  <li class="header">
  	{% trans 'Notifications'|upper %}
  </li>

  <li class="body">
    <ul class="menu">
      {% for itm in notifications %}
        <li>
          <a href="javascript:void(0);"
          data-placement="bottom"
          data-toggle="tooltip" 
          onclick="markAsRead(this, '{{itm.id}}', 'top menu')" 
          title="{% trans 'Mark as read' %}" 
          data-original-title="{% trans 'Mark as read' %}">
	          <div class="icon-circle bg-{{itm.notification.bg_color}}">
              <i class="material-icons">
              	{{itm.notification.icon}}
              </i>
	          </div>

	          <div class="menu-info">
              <h4>
                {{itm.notification.name}}:&nbsp;{{itm.obj_name}}
              </h4>

              <p>
                <i class="material-icons">
	                access_time
              	</i> 

              	{{itm.created_when}},
                <br />
                {{itm.created_at}}
              </p>
	          </div>
          </a>
        </li>
      {% endfor %}
    </ul>
  </li>

  <li class="footer">
    <a href="javascript:void(0);"
    class="view-all-notifs" 
    onclick="showAllNotifs()">
    	{% trans 'View all notifications' %}
    </a>
  </li>
</ul>

<script type="text/javascript">
  $('[data-toggle="tooltip"]').tooltip();
</script>